{% load i18n %}
{% extends "base.html" %}
{% block content %}
<div class="container mt-4" dir="{% get_current_language_bidi as RTL %}{% if RTL %}rtl{% else %}ltr{% endif %}">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3 class="fw-bold">
      ğŸ¬ {% trans "Branches of" %} {{ company.name }}
    </h3>
    <div>
      <a href="{% url 'companies:new_branch' company.id %}" class="btn btn-primary me-2">
        + {% trans "Add Branch" %}
      </a>
      <a href="{% url 'companies:company_list' %}" class="btn btn-secondary">
        â†©ï¸ {% trans "Back to Companies" %}
      </a>
    </div>
  </div>

  <table class="table table-hover table-bordered align-middle text-center">
    <thead class="table-primary">
      <tr>
        <th>{% trans "Branch Name" %}</th>
        <th>{% trans "Address" %}</th>
        <th>{% trans "Status" %}</th>
        <th>{% trans "Actions" %}</th>
      </tr>
    </thead>
    <tbody>
      {% for b in branches %}
      <tr>
        <td>{{ b.name }}</td>
        <td>{{ b.address|default:"â€”" }}</td>
        <td>
          {% if b.is_active %}
            <span class="badge bg-success">{% trans "Active" %}</span>
          {% else %}
            <span class="badge bg-secondary">{% trans "Inactive" %}</span>
          {% endif %}
        </td>
        <td>
          <a href="{% url 'companies:edit_branch' company.id b.id %}" class="btn btn-outline-warning btn-sm">
            âœï¸ {% trans "Edit" %}
          </a>
          <a href="{% url 'companies:delete_branch' company.id b.id %}"onclick="return confirm('{% trans 'Are you sure you want to delete this branch?' %}')"
             class="btn btn-outline-danger btn-sm">
             ğŸ—‘ï¸ {% trans "Delete" %}
          </a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="4" class="text-muted py-3">{% trans "No branches found." %}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
